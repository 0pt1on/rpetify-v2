{"ast":null,"code":"var _jsxFileName = \"/Users/karolis/imkarolis/rpetify-v2/src/components/settings-content/VariantRow.js\";\nimport React, { useEffect } from \"react\";\nimport { changeVariantOneRepMax, removeVariant } from \"features/variants/slice\";\nimport { removeWorkoutByName } from \"features/workouts/slice\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getOneRMByUnit } from \"utils\";\nimport Select from \"components/Select\";\nimport { Text, Flex, Grid, Icon } from \"@chakra-ui/core\";\nexport default function VariantRow(_ref) {\n  var id = _ref.id,\n      name = _ref.name,\n      main = _ref.main,\n      percent = _ref.percent,\n      oneRM = _ref.oneRM;\n  var dispatch = useDispatch();\n  var oneRepMax = useSelector(function (state) {\n    return state.oneRepMax;\n  });\n  var units = useSelector(function (state) {\n    return state.units;\n  });\n\n  function handleRemoveVariant() {\n    dispatch(removeWorkoutByName({\n      name: name\n    }));\n    dispatch(removeVariant({\n      id: id\n    }));\n  }\n\n  useEffect(function () {\n    var mainOneRM = oneRepMax.find(function (_ref2) {\n      var shortName = _ref2.shortName;\n      return shortName === main;\n    }).oneRM;\n    var weight = Math.round(mainOneRM * (percent / 100));\n    dispatch(changeVariantOneRepMax({\n      id: id,\n      name: \"oneRM\",\n      value: Number(weight)\n    }));\n  }, [percent, main, id, dispatch, oneRM, oneRepMax]);\n\n  function handleChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    var currentValue = name === \"percent\" ? Number(value) : value;\n    dispatch(changeVariantOneRepMax({\n      id: id,\n      name: name,\n      value: currentValue\n    }));\n  }\n\n  var liftNamesArray = oneRepMax.map(function (_ref3) {\n    var shortName = _ref3.shortName;\n    return {\n      value: shortName,\n      text: shortName\n    };\n  });\n  return React.createElement(Grid, {\n    my: \"2\",\n    gridGap: \"2\",\n    gridTemplateColumns: \"1.25fr 1fr 1fr 0.8fr 0.5fr\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    flexDir: \"column\",\n    justifyContent: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Text, {\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, name)), React.createElement(Select, {\n    name: \"main\",\n    onChange: handleChange,\n    defaultValue: main,\n    customArray: liftNamesArray,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(Select, {\n    name: \"percent\",\n    onChange: handleChange,\n    defaultValue: percent,\n    usePercentages: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(Flex, {\n    flexDir: \"column\",\n    justifyContent: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Text, {\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, getOneRMByUnit(units, oneRM))), React.createElement(Flex, {\n    flexDir: \"column\",\n    justify: \"center\",\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    name: \"small-close\",\n    size: \"6\",\n    onClick: function onClick() {\n      var conf = window.confirm(\"Are you sure You want to delete this item ?\");\n\n      if (conf === true) {\n        handleRemoveVariant();\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["/Users/karolis/imkarolis/rpetify-v2/src/components/settings-content/VariantRow.js"],"names":["React","useEffect","changeVariantOneRepMax","removeVariant","removeWorkoutByName","useSelector","useDispatch","getOneRMByUnit","Select","Text","Flex","Grid","Icon","VariantRow","id","name","main","percent","oneRM","dispatch","oneRepMax","state","units","handleRemoveVariant","mainOneRM","find","shortName","weight","Math","round","value","Number","handleChange","e","target","currentValue","liftNamesArray","map","text","conf","window","confirm"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { changeVariantOneRepMax, removeVariant } from \"features/variants/slice\";\nimport { removeWorkoutByName } from \"features/workouts/slice\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getOneRMByUnit } from \"utils\";\n\nimport Select from \"components/Select\";\nimport { Text, Flex, Grid, Icon } from \"@chakra-ui/core\";\n\nexport default function VariantRow({ id, name, main, percent, oneRM }) {\n  const dispatch = useDispatch();\n  const oneRepMax = useSelector(state => state.oneRepMax);\n  const units = useSelector(state => state.units);\n\n  function handleRemoveVariant() {\n    dispatch(removeWorkoutByName({ name }));\n    dispatch(removeVariant({ id }));\n  }\n\n  useEffect(() => {\n    const mainOneRM = oneRepMax.find(({ shortName }) => shortName === main)\n      .oneRM;\n    const weight = Math.round(mainOneRM * (percent / 100));\n    dispatch(\n      changeVariantOneRepMax({ id, name: \"oneRM\", value: Number(weight) })\n    );\n  }, [percent, main, id, dispatch, oneRM, oneRepMax]);\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    const currentValue = name === \"percent\" ? Number(value) : value;\n    dispatch(changeVariantOneRepMax({ id, name, value: currentValue }));\n  }\n\n  let liftNamesArray = oneRepMax.map(({ shortName }) => ({\n    value: shortName,\n    text: shortName\n  }));\n\n  return (\n    <Grid my=\"2\" gridGap=\"2\" gridTemplateColumns=\"1.25fr 1fr 1fr 0.8fr 0.5fr\">\n      <Flex flexDir=\"column\" justifyContent=\"center\">\n        <Text textAlign=\"center\">{name}</Text>\n      </Flex>\n      <Select\n        name=\"main\"\n        onChange={handleChange}\n        defaultValue={main}\n        customArray={liftNamesArray}\n      />\n      <Select\n        name=\"percent\"\n        onChange={handleChange}\n        defaultValue={percent}\n        usePercentages\n      />\n      <Flex flexDir=\"column\" justifyContent=\"center\">\n        <Text textAlign=\"center\">{getOneRMByUnit(units, oneRM)}</Text>\n      </Flex>\n      <Flex flexDir=\"column\" justify=\"center\" align=\"center\">\n        <Flex align=\"center\">\n          <Icon\n            name=\"small-close\"\n            size=\"6\"\n            onClick={() => {\n              var conf = window.confirm(\n                \"Are you sure You want to delete this item ?\"\n              );\n              if (conf === true) {\n                handleRemoveVariant();\n              }\n            }}\n          />\n        </Flex>\n      </Flex>\n    </Grid>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}